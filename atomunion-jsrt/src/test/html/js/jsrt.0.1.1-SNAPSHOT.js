Object.extend=function(g,f,b,a){if(g===null||f===null||g===undefined||f===undefined||typeof g==="number"||typeof f==="number"||typeof g==="string"||typeof f==="string"||typeof g==="boolean"||typeof f==="boolean"){return g}if(Object.prototype.toString.call(f)==="[object Object]"){if(Object.prototype.toString.apply(g)!=="[object Array]"||g===Array.prototype){for(var e in f){if(f.hasOwnProperty(e)){if(b){if(!g[b]){g[b]={}}if(a){g[b][e]=f[e][a]}else{g[b][e]=f[e]}}else{if(a){g[e]=f[e]?f[e][a]:null}else{g[e]=f[e]}}}}}else{for(var c=0;c<g.length;c++){for(var e in f){if(f.hasOwnProperty(e)){if(b){if(!g[c]){g[c]={}}if(!g[c][b]){g[c][b]={}}if(a){g[c][b][e]=f[e][a]}else{g[c][b][e]=f[e]}}else{if(a){g[c][e]=f[e]?f[e][a]:null}else{g[c][e]=f[e]}}}}}}}return g};Object.extend(Object,function(){var b=function(c){return c},a=window.JSON&&typeof JSON.stringify==="function"&&JSON.stringify(0)==="0"&&typeof JSON.stringify(b)==="undefined";return{isEmpty:function(c){return c===null||c===undefined||((Object.isArray(c)&&!c.length))||(Object.isString(c)&&c.trim()==="")},isArray:function(c){return Object.prototype.toString.apply(c)==="[object Array]"},isDate:function(c){return Object.prototype.toString.apply(c)==="[object Date]"},isObject:function(c){return !!c&&Object.prototype.toString.call(c)==="[object Object]"},isFunction:function(c){return Object.prototype.toString.apply(c)==="[object Function]"},isNumber:function(c){return typeof c==="number"&&isFinite(c)},isString:function(c){return typeof c==="string"},isBoolean:function(c){return typeof c==="boolean"},isDefined:function(c){return typeof c!=="undefined"},clone:function(){return extend({},this)},each:function(e,d,c){return Object.enumerate(e,d,c,false)},enumerate:function(g,d,c,f){if(Object.isEmpty(g)||Object.isNumber(g)||Object.isString(g)||Object.isBoolean(g)){return}if(Object.isArray(g)){if(d.call(c||g[i],i,g[i],g)===false){return i}}else{for(var e in g){if(f||g.hasOwnProperty(e)){if(d.call(c||g[e],e,g[e],g)===false){return i}}}}return true},toJSON:a?b:b,toQueryString:b}}());Object.extend(String.prototype,{trim:function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}()});Object.extend(Array.prototype,{clear:function(){this.splice(0,this.length)},contains:function(a){return(Array.prototype.indexOf.call(this,a)!=-1)?true:false},indexOf:function(b){for(var a=0;a<this.length;a++){if(this[a]==b){return a}}return -1},append:function(d,c,a){if(!Object.isEmpty(d)&&Object.isArray(d)){c=c||0;a=(a&&a>c&&a<d.length)?a:d.length;var b=Array.prototype.slice.call(d,c,a);Array.prototype.splice.call(b,0,0,this.length,0);Array.prototype.splice.apply(this,b)}return this}});Class=function(x,z){var p=null,A=null,B=null,r=null,f=null,y=[],a=null,b=null;var q={},w={},g={};var j=function(){},d=j,t,v=function(){this.$class=l;this._hashCode=new Date().getTime().toString(16);var C=l.getSuperClass();while(C&&C!=Object.$class){var c=C.getFields();Object.each(c,function(E,D,G){if(!q[E]){var F=D.getValue();this[E]=F?F.clone():F}},this);C.getInitial().apply(this,arguments);C=C.getSuperClass()}Object.each(q,function(E,D,G){var F=D.getValue();this[E]=F?F.clone():F},this);(d=d||j).apply(this,arguments);(t=t||this.init||j).apply(this,arguments);if(this.$class!=l){this.$class=l}},n=function(){};var o=function(D,H,E){if(Object.isEmpty(D)){return null}var G=D.split("."),F=G.length,c=window;for(var C=0;C<F-1;C++){c[G[C]]||(c[G[C]]={});c=c[G[C]]}return H.call(E,G[C],c)};var u=(function(){var E=/(\s+$|^\s+)/g,D=/\s*([,(=])\s*/g,C=/\s*[)]\s*/g,c=/\s{2,}/g;return function(F){return F.replace(E,"").replace(D,"$1").replace(C,") ").replace(c," ")}})();var m=function(D,E,c,C,F){this._name=D;this._value=E;this._declaringClass=c;this._modifiers=C;this._annotations=F};m.prototype={getName:function(){return this._name},setName:function(c){this._name=c},getValue:function(){return this._value},setValue:function(c){this._value=c},getDeclaringClass:function(){return this._declaringClass},setDeclaringClass:function(c){this._declaringClass=c},getModifiers:function(){return this._modifiers},setModifiers:function(c){this._modifiers=c},getAnnotations:function(){return this._annotations},setAnnotations:function(c){this._annotations=c}};var h=function(Q){Q=u(Q);var I=Q.indexOf("class ");var G=Q.indexOf("interface ");var U=null,E=null,V=null,T=null,L=null;if(I==-1&&G==-1){var J=Q.lastIndexOf(" ");U=(J==-1?"":Q.substring(0,J+1));V=Q.substring(J+1)}else{var J=null;if(I!=-1){J=I;E="class"}else{J=G;E="interface"}U=Q.substring(0,J);var C=Q.substring(J+1).split(" "),S=C.length;V=C[1];if(S>=4){if(C[2]=="extends"){T=C[3]}else{T="Object";L=C[3].split(",")}if(S>=6){L=C[5].split(",")}}}var K=/@\S*/g;var P=U.indexOf("abstract ")!=-1,N=U.indexOf("interface ")!=-1,H=U.indexOf("final ")!=-1,O=U.indexOf("static ")!=-1,F=U.indexOf("protected ")!=-1,D=U.indexOf("private ")!=-1,R=U.indexOf("default ")!=-1,M=(U.indexOf("public ")!=-1||(!D&&!R&&!F));var c=0;if(P){c+=1024}if(N){c+=512}if(H){c+=16}if(O){c+=8}if(F){c+=4}if(D){c+=2}if(M){c+=1}return{annotations:Q.match(K)||[],modifiers:c,type:E,name:V,extend:T,implement:L}};var s=function(E,c,D,C){return(Object.isEmpty(c)&&Object.isEmpty(D)&&Object.isEmpty(C))?E:function(){(!Object.isEmpty(c)&&Object.isFunction(c))&&c.apply(this,arguments);var F=null;try{F=(!Object.isEmpty(E)&&Object.isFunction(E))?E.apply(this,arguments):E}catch(G){if(Object.isEmpty(D)){throw G}else{if(Object.isFunction(D)){D.apply(this,arguments)}}}(!Object.isEmpty(C)&&Object.isFunction(C))&&C.apply(this,arguments);return F}};var k=function(D,C){if(Object.isFunction(C.getValue())){}else{if(C.getName()&&C.getName().length>1&&C.getName().length!="_"){var E=C.getName().indexOf("_")==0?C.getName().substring(1):C.getName();E=E.charAt(0).toUpperCase()+E.substring(1);var c=(((C.getModifiers()&8)!=0)?8:0)+1;if(C.getAnnotations().contains("@Getter")){var F="get"+E;if(!w[F]){D.addMethod(new m(F,function(){return this[C.getName()]},D,c,[]))}}if(C.getAnnotations().contains("@Setter")){var G="set"+E;if(!w[G]){D.addMethod(new m(G,function(H){this[C.getName()]=H},D,c,[]))}}}}};var e=function(){var D=h(x.name);a=D.modifiers;b=D.annotations;f=D.type;A=D.name;superclassDef=D.extend;superinterfacesDef=D.implement;if(A!="Object"){B=o(A,function(E,F){F[E]=v;F[E].$class=this;p=F;return E},this);if(superinterfacesDef){var c=superinterfacesDef.length;for(var C=0;C<c;C++){y[C]=o(superinterfacesDef[C],function(E,F){return F[E]}).$class}}r=(o(superclassDef,function(E,F){return F[E]})||Object).$class;n.prototype=((r)?r.instance:Object).prototype;v.prototype=new n;v.prototype.constructor=v;if(r==Object.$class){v.prototype.toString=function(){return this.getClass().getFullName()+" "+this.hashCode()}}}else{v=Object}Object.each(x,function(G,F,H){if(G!="name"){var E=h(G);E=new m(E.name,F,this,E.modifiers,E.annotations);if(Object.isFunction(F)){this.addMethod(E)}else{this.addField(E)}}},this);this.instance=v;return this};e.prototype={getClassLoader:function(){return z||(window.js.lang.ClassLoader?js.lang.ClassLoader.getSystemClassLoader():null)},getConstructor:function(){return v},getInitial:function(){return d},getInit:function(){return t},getPackage:function(){return p},getDeclaredField:function(c){return this.getField(c)},getDeclaredFields:function(){return this.getFields()},getField:function(C){var c=q[C];if(c){return c}throw new js.lang.NoSuchFieldException()},getFields:function(){return q},getDeclaredMethod:function(c){return this.getMethod(c)},getDeclaredMethods:function(){return this.getMethods()},getMethod:function(C){var c=w[C];if(c){return c}throw new js.lang.NoSuchMethodException()},getMethods:function(){return w},getName:function(){return B},getFullName:function(){return A},getSuperClass:function(){return r},getModifiers:function(){return a},getAnnotations:function(){return b},addMethod:function(c){if(!Object.isEmpty(c)&&Object.isFunction(c.getValue())){if(c.getAnnotations()&&c.getAnnotations().length){k(this,c)}if(c.getName()==B){d=c.getValue()}else{c.setValue(s(c.getValue()));c.setDeclaringClass(this);if(window.js&&window.js.lang&&window.js.lang.reflect&&window.js.lang.reflect.Method&&window.js.lang.reflect.Method.loaded){c=new window.js.lang.reflect.Method(c.getName(),c.getValue(),this,c.getModifiers(),c.getAnnotations())}if((c.getModifiers()&8)!=0){v[c.getName()]=c.getValue();g[c.getName()]=c}else{v.prototype[c.getName()]=c.getValue();w[c.getName()]=c}}}},addField:function(c){if(!Object.isEmpty(c)&&!Object.isFunction(c.getValue())){if(c.getAnnotations()&&c.getAnnotations().length){k(this,c)}c.setDeclaringClass(this);if(window.js&&window.js.lang&&window.js.lang.reflect&&window.js.lang.reflect.Field&&window.js.lang.reflect.Field.loaded){c=new window.js.lang.reflect.Field(c.getName(),c.getValue(),this,c.getModifiers(),c.getAnnotations())}if((c.getModifiers()&8)!=0){v[c.getName()]=c.getValue();g[c.getName()]=c}else{q[c.getName()]=c}}},getInstance:function(){return v},newInstance:function(){return new v()},clone:function(){return this}};var l=new e();return l};Class.forName=function(b,a){return new Class(b,a)};Object.$class=Class.forName({name:"class Object","private _version":"0.1.1.0001",getClass:function(){return this.$class},equals:function(a){return a==this},getVersion:function(){return this._version},hashCode:function(){return this._hashCode},clone:function(){var c=null;if(this instanceof Number||this instanceof String||this instanceof Boolean){return this.valueOf()}else{if(this instanceof Function||this instanceof RegExp||this instanceof Error||this instanceof EvalError||this instanceof RangeError||this instanceof ReferenceError||this instanceof SyntaxError||this instanceof TypeError||this instanceof URIError){return this}else{if(this instanceof Date){c=new Date();c.setTime(this.getTime());return c}else{if(this.$class){c=this.$class.newInstance()}else{c=this instanceof Array?[]:{}}}}}for(var d in this){if(d=="_hashCode"){c[d]=new Date().getTime().toString(16);continue}if(this.hasOwnProperty(d)){c[d]=this[d]?this[d].clone():this[d]}}return c}});Class.forName({name:"abstract class js.lang.ClassLoader extends Object","@Setter @Getter private parent":null,"@Setter @Getter private classes":[],"private static SYSTEMLOADER":null,"abstract loadClass":function(c,d,b,a){},"static getSystemClassLoader":function(a){if(!js.lang.ClassLoader.SYSTEMLOADER){js.lang.ClassLoader.SYSTEMLOADER=new js.net.URLClassLoader()}return js.lang.ClassLoader.SYSTEMLOADER}});Class.forName({name:"class js.net.URLClassLoader extends js.lang.ClassLoader","@Setter @Getter loadedScripts":{},"@Setter @Getter waitingList":{},"@Setter @Getter path":[],URLClassLoader:function(a){this.parent=a},findClass:function(h,g){var a=(Object.isString(h));if(a){h=[h]}var d={},e=this.path;if(!Object.isArray(h)){return d}for(var c=0;c<h.length;c++){var f=url=h[c];for(var b=0;b<e.length;b++){if(e[b]&&e[b].name&&e[b].url){if(f.indexOf(e[b].name)==0){f=e[b].url+f.substring(e[b].name.length);break}}}f=f.replace(/[.]/g,"/")+".js";if(g){f+="?t="+new Date().getTime()}d[url]=f}return d},loadClass:function(scriptUrl,synchronous,notModify,callback,scope,showBusy){var isString=(Object.isString(scriptUrl));if(isString){scriptUrl=[scriptUrl]}if(!Object.isArray(scriptUrl)){return false}var scriptCount=scriptUrl.length,loadedScripts=this.loadedScripts,waitingList=this.waitingList,completed=[],failed=[];showBusy&&document.setStyle("cursor","wait");if(!scope){scope=this}var doCallback=function(success){if(callback){if(isString){callback.call(scope,success)}else{callback.call(scope,completed,failed)}}if(failed.length>0){throw new js.lang.ClassNotFoundException("Can't find Class named ("+failed.join(",")+")")}};if(scriptCount===0){doCallback(true);return true}var checkLoaded=function(url,success){(success?completed:failed).push(url);if(--scriptCount<=0){showBusy&&document.getDocumentElement().removeStyle("cursor");doCallback(success)}};var onLoad=function(url,success){loadedScripts[url]=1;if(waitingList[url]){var waitingInfo=waitingList[url];delete waitingList[url];for(var i=0;i<waitingInfo.length;i++){waitingInfo[i](url,success)}}};var loadScript=function(url,src){var script=document.createElement("script");script.type="text/javascript";script.src=src;if(script){if("addEventListener" in script){script.onload=function(){onLoad(url,true)}}else{if("readyState" in script){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;onLoad(url,true)}}}else{script.onload=function(){setTimeout(function(){onLoad(url,true)},0)};script.onerror=function(){onLoad(url,false)}}}(document.head||document.getElementsByTagName("head")[0]).appendChild(script)}};var synchronousScript=function(url,src){var isCrossOriginRestricted=false,xhr,status,isIE=/msie/.test(navigator.userAgent.toLowerCase());if(typeof XMLHttpRequest!="undefined"){xhr=new XMLHttpRequest()}else{xhr=new ActiveXObject("Microsoft.XMLHTTP")}try{xhr.open("GET",src,false);xhr.send(null)}catch(e){isCrossOriginRestricted=true}status=(xhr.status===1223)?204:(xhr.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:"))?200:xhr.status;isCrossOriginRestricted=isCrossOriginRestricted||(status===0);if(isCrossOriginRestricted){onLoad(url,false)}else{if((status>=200&&status<300)||(status===304)){if(!isIE){debugSourceURL="\n//@ sourceURL="+src}eval(xhr.responseText+debugSourceURL);onLoad(url,true)}else{onLoad(url,false)}}xhr=null};for(var i=0;i<scriptCount;i++){var src=url=scriptUrl[i];if(this.parent&&this.parent.loadClass(url,synchronous,callback,scope,showBusy)){continue}var classes=this.findClass(src,notModify);if(loadedScripts[url]){checkLoaded(url,true);continue}var waitingInfo=waitingList[url]||(waitingList[url]=[]);waitingInfo.push(checkLoaded);if(waitingInfo.length>1){continue}if(synchronous){loadScript(url,classes[url])}else{synchronousScript(url,classes[url])}}return true}});$import=function(a){js.lang.ClassLoader.getSystemClassLoader().loadClass(a)};Class.forName({name:"abstract class js.lang.reflect.Constructor extends Object"});Class.forName({name:"public final class js.lang.reflect.Field extends Object","@Setter @Getter private _declaringClass":null,"@Setter @Getter private _name":null,"@Setter @Getter private _modifiers":null,"@Setter @Getter private _annotations":null,"@Setter @Getter private _value":null,Field:function(c,d,a,b,e){this._name=c;this._declaringClass=a;this._modifiers=b;this._annotations=e;this._value=d},clone:function(){return this},set:function(b,a){b[this._name]=a},get:function(a){return a[this._name]}});js.lang.reflect.Field.loaded=true;Class.forName({name:"public final class js.lang.reflect.Method extends Object","@Setter @Getter private _declaringClass":null,"@Setter @Getter private _name":null,"@Setter @Getter private _modifiers":null,"@Setter @Getter private _annotations":null,"@Setter @Getter private _value":null,Method:function(d,b,a,c,e){this._name=d;this._declaringClass=a;this._modifiers=c;this._annotations=e;this._value=b},clone:function(){return this},invoke:function(){if(arguments.length>0){var b=arguments[0];if(!b||!this._value){throw new js.lang.NullPointerException()}else{if(b[this._name]){try{return this._value.apply(b,Array.prototype.slice.call(arguments,1))}catch(a){throw new js.lang.reflect.InvocationTargetException(a.getMessage())}}}}throw new js.lang.IllegalArgumentException()}});js.lang.reflect.Method.loaded=true;Class.forName({name:"public class js.lang.reflect.Modifier extends Object","public static final ABSTRACT":1024,"public static final INTERFACE":512,"public static final FINAL":16,"public static final STATIC":8,"public static final PROTECTED":4,"public static final PRIVATE":2,"public static final PUBLIC":1,"public static final DEFAULT":0,"public static isAbstract":function(a){return(a&js.lang.reflect.Modifier.ABSTRACT)!=0},"public static isFinal":function(a){return(a&js.lang.reflect.Modifier.FINAL)!=0},"public static isInterface":function(a){return(a&js.lang.reflect.Modifier.INTERFACE)!=0},"public static isPrivate":function(a){return(a&js.lang.reflect.Modifier.PRIVATE)!=0},"public static isProtected":function(a){return(a&js.lang.reflect.Modifier.PROTECTED)!=0},"public static isPublic":function(a){return(a&js.lang.reflect.Modifier.PUBLIC)!=0},"public static isStatic":function(a){return(a&js.lang.reflect.Modifier.STATIC)!=0},"public static isDefault":function(a){return(a&js.lang.reflect.Modifier.DEFAULT)!=0},clone:function(){return this}});Class.forName({name:"class js.lang.reflect.InvocationTargetException extends js.lang.Exception","private name":"InvocationTargetException","private number":100});Class.forName({name:"class js.lang.Exception extends Object","private message":null,"private name":null,"private number":null,"private description":null,"private fileName":null,"private stack":null,"private lineNumber":null,Exception:function(c,d,b,a){this.message=c;this.fileName=d;this.stack=a;this.lineNumber=b;this.name="Exception"},getName:function(){return this.name},getMessage:function(){return this.message},getNumber:function(){return this.number},getDescription:function(){return this.description},getFileName:function(){return this.fileName},getStack:function(){return this.stack},getLineNumber:function(){return this.lineNumber}});Object.extend([Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError],js.lang.Exception.$class.getMethods(),"prototype","_value");Class.forName({name:"class js.lang.IllegalAccessException extends js.lang.Exception","private name":"IllegalAccessException","private number":21});Class.forName({name:"class js.lang.IllegalArgumentException extends js.lang.Exception","private name":"IllegalArgumentException","private number":20});Class.forName({name:"class js.lang.IllegalStateException extends js.lang.Exception","private name":"IllegalStateException","private number":22});Class.forName({name:"class js.lang.IndexOutOfBoundsException extends js.lang.Exception","private name":"IndexOutOfBoundsException","private number":11});Class.forName({name:"class js.lang.NoSuchFieldException extends js.lang.Exception","private name":"NoSuchFieldException","private number":8});Class.forName({name:"class js.lang.NoSuchMethodException extends js.lang.Exception","private name":"NoSuchMethodException","private number":9});Class.forName({name:"class js.lang.NullPointerException extends js.lang.Exception","private name":"NullPointerException","private number":0});Class.forName({name:"class js.lang.UnsupportedOperationException extends js.lang.Exception","private name":"UnsupportedOperationException","private number":10});Class.forName({name:"class js.lang.ClassNotFoundException extends js.lang.Exception","private name":"ClassNotFoundException","private number":7});Class.forName({name:"class js.lang.StringBuffer extends Object","private _strings":new Array(),StringBuffer:function(){},append:function(){this._strings.append(Array.prototype.slice.call(arguments,0));return this},applys:function(a){this._strings.append(a);return this},clear:function(){this._strings.splice(0)},remove:function(b,a){this._strings.splice(b,a-b)},substring:function(b,a){return this._strings.slice(b,a).join("")},charAt:function(a){return this.substring(a,a+1)},indexOf:function(a){return this._strings.indexOf(a)},length:function(){return this._strings.length},toString:function(a){return this._strings.join(a||"")}});$import("js.io.Console");Class.forName({name:"class js.lang.System extends Object","static err":null,"static out":new js.io.Console(window.console),"private static _env":(function(){var A=navigator.userAgent,t=A.toLowerCase(),x=function(C){return C.test(t)},g=document,m=g.documentMode,k=g.compatMode=="CSS1Compat",z=x(/opera/),f=x(/\bchrome\b/),u=x(/webkit/),w=!f&&x(/safari/),e=w&&x(/applewebkit\/4/),b=w&&x(/version\/3/),B=w&&x(/version\/4/),s=!z&&x(/msie/),q=s&&(x(/msie 7/)||m==7),p=s&&(x(/msie 8/)&&m!=7),r=s&&!q&&!p,n=!u&&x(/gecko/),d=n&&x(/rv:1\.8/),a=n&&x(/rv:1\.9/),v=s&&!k,y=x(/windows|win32/),j=x(/macintosh|mac os x/),h=x(/adobeair/),l=x(/linux/),c=/^https/i.test(window.location.protocol),o=false;return{userAgent:A,strict:k,opera:z,chrome:f,webkit:u,safari:w,safari2:e,safari3:b,safari4:B,ie:s,ie6:r,ie7:q,ie8:p,ie9:o,gecko:n,isGecko2:d,isGecko3:a,isBorderBox:v,isWindows:y,isMac:j,isAir:h,isLinux:l,isSecure:c}})(),"static getenv":function(a){return(a)?this._env[a]:this._env}});